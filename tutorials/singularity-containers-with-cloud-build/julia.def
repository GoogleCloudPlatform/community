Bootstrap: library
From: centos:7

%runscript
# run your script here.

# check if there any arguments,
if [ -z "$@" ]; then
    # if theres non, test julia:
    echo 'println("hello world from julia container!!!")' | julia
else
    # if theres an argument, then run it! and hope its a julia script :)
    julia "$@"
fi


%environment
export PATH=/julia-1.0.1/bin:$PATH
export LD_LIBRARY_PATH=/julia-1.0.1/lib:/julia-1.0.1/lib/julia:$LD_LIBRARY_PATH
export LC_ALL=C

%post
yum -y update

# install some basic tools
yum -y install curl tar gzip

# now, download and install julia
curl -sSL "https://julialang-s3.julialang.org/bin/linux/x64/1.0/julia-1.0.1-linux-x86_64.tar.gz" > julia.tgz
tar -C / -zxf julia.tgz
rm -f julia.tgz
